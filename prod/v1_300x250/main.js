function generateSprite(e,t,i){var n=document.createElement("div");return n.style.position="absolute",n.style.overflow="hidden",null==t?(n.style.width=dimensions.width+"px",n.style.height=dimensions.height+"px"):(n.style.width=t+"px",n.style.height=i+"px"),n.style.backgroundRepeat="no-repeat",n.style.backgroundImage="url("+e+")",n.style.backgroundSize="100%",n.style.opacity="0",n.style.filter="alpha(opacity=0)",n}function generateButton(e,t,i,n){var a=document.createElement("div");return a.style.position="absolute",a.style.overflow="hidden",a.style.width=e+"px",a.style.height=t+"px",a.style.backgroundColor="red",a.style.left=i+"px",a.style.top=n+"px",a.style.opacity="0",a.style.filter="alpha(opacity=0)",a}function generateCanvas(e){var t=document.createElement("canvas");t.style.position="absolute",t.style.overflow="hidden",t.style.width=dimensions.width+"px",t.style.height=dimensions.height+"px",t.id="canvas";var i=document.createElement("img");return i.src=e,t.appendChild(i),t.style.opacity="0",t.style.filter="alpha(opacity=0)",t}function generateContainer(e,t){var i=document.createElement("div");return null==e?(i.style.width=dimensions.width+"px",i.style.height=dimensions.height+"px"):(i.style.width=e+"px",i.style.height=t+"px"),i.style.position="absolute",i.style.overflow="hidden",i}function addSprite(e,t){var i=document.createElement("div");return i.setAttribute("class",e),i.style.position="absolute",i.style.overflow="hidden",null==t?stage.appendChild(i):t.appendChild(i),i}function returnTimer(){stopWatch=.001*((new Date).getTime()-stopWatch),console.log(stopWatch+" seconds")}function preInit(){Enabler.isInitialized()?initDom():Enabler.addEventListener(studio.events.StudioEvent.INIT,initDom)}function initDom(){mainInit(),Enabler.isPageLoaded()?init():Enabler.addEventListener(studio.events.StudioEvent.VISIBLE,init)}function exitClickHandler(){Enabler.exit("BackgroundExit")}function mainInit(){stage=document.querySelectorAll(".container")[0],stage.style.width=dimensions.width+"px",stage.style.height=dimensions.height+"px",stage.style.overflow="hidden",stage.style.position="absolute",stage.style.display="none",stage.style.opacity=0,stage.style.filter="alpha(opacity=0)",stage.style.border="1px solid black",black_bkgrnd=generateContainer(),black_bkgrnd.style.backgroundColor="#000000",blue_bkgrnd=generateContainer(),blue_bkgrnd.style.backgroundColor="#07a2d4",orange_bkgrnd=generateContainer(),orange_bkgrnd.style.backgroundColor="#dd8601",red_bkgrnd=generateContainer(),red_bkgrnd.style.backgroundColor="#93121b",blue_logo_lockup_trim=generateContainer(dimensions.width-2,dimensions.height-2),blue_logo_lockup_trim.style.border="8px solid #07a2d4",stage.appendChild(black_bkgrnd),stage.appendChild(blue_bkgrnd),stage.appendChild(orange_bkgrnd),stage.appendChild(red_bkgrnd),minicoop_main=generateContainer(),minicoop_shadows=addSprite("icon-mcSide_shadows",minicoop_main),minicoop_car_body=addSprite("icon-mcSide_main",minicoop_main),minicoop_headlights=addSprite("icon-mcSide_front_light",minicoop_main),minicoop_rearlights=addSprite("icon-mcSide_rear_light",minicoop_main),minicoop_frt_tire=generateContainer("73","72"),minicoop_frt_tire_spin=addSprite("icon-wheel_spin",minicoop_frt_tire),minicoop_frt_tire_stopped=addSprite("icon-wheel_stopped",minicoop_frt_tire),minicoop_main.appendChild(minicoop_frt_tire),minicoop_frt_tire.style.left="26px",minicoop_frt_tire.style.bottom="44px",minicoop_rear_tire=generateContainer("73","72"),minicoop_rear_tire_spin=addSprite("icon-wheel_spin",minicoop_rear_tire),minicoop_rear_tire_stopped=addSprite("icon-wheel_stopped",minicoop_rear_tire),minicoop_main.appendChild(minicoop_rear_tire),minicoop_rear_tire.style.right="27px",minicoop_rear_tire.style.bottom="44px",stage.appendChild(minicoop_main),fr1_copy_a=addSprite("icon-fr1_copy_a"),fr1_copy_b=addSprite("icon-fr1_copy_b"),fr2_copy_a=addSprite("icon-fr2_copy_a"),fr2_copy_b=addSprite("icon-fr2_copy_b"),mini_interactive_main=generateContainer(),mini_interactive_car_body=addSprite("icon-mini_interactive_car_body",mini_interactive_main),mini_interactive_paint_orange=addSprite("icon-mini_interactive_paint_orange",mini_interactive_main),mini_interactive_paint_red=addSprite("icon-mini_interactive_paint_red",mini_interactive_main),mini_interative_title=addSprite("icon-mini_interative_title ",mini_interactive_main),stage.appendChild(mini_interactive_main),mini_interactive_btns_main=generateContainer(),mini_interactive_btn_blue=addSprite("icon-mini_interactive_btn_blue",mini_interactive_btns_main),mini_interactive_btn_orange=addSprite("icon-mini_interactive_btn_orange",mini_interactive_btns_main),mini_interactive_btn_red=addSprite("icon-mini_interactive_btn_red",mini_interactive_btns_main),mini_interactive_btn_orange.style.left="27px",mini_interactive_btn_red.style.left="54px",stage.appendChild(mini_interactive_btns_main),mini_interactive_btns_main.style.top="10px",mini_interactive_btns_main.style.left="135px",stage.appendChild(blue_logo_lockup_trim),logo_small=addSprite("icon-mini_logo_sm"),logo_large=addSprite("icon-mini_logo_lg"),cta_bkgrnd=generateContainer("145","31"),cta_bkgrnd.style.backgroundColor="black",cta_bkgrnd.style.left="10px",cta_bkgrnd.style.bottom="8px",arrow1=addSprite("icon-cta_arrow1",cta_bkgrnd),arrow1.style.left="5px",arrow1.style.bottom="8px",arrow2=addSprite("icon-cta_arrow1",cta_bkgrnd),arrow2.style.left="10px",arrow2.style.bottom="8px",cta_copy=addSprite("icon-cta_copy",cta_bkgrnd),cta_copy.style.left="-24px",cta_copy.style.bottom="4px",stage.appendChild(cta_bkgrnd)}function init(){stage.addEventListener("click",exitClickHandler),cta_bkgrnd.addEventListener("mouseenter",ctaAnimationOver),cta_bkgrnd.addEventListener("mouseleave",ctaAnimationOut),cta_bkgrnd.style.cursor="pointer",mini_interactive_btn_blue.addEventListener("click",bodyColorHandler),mini_interactive_btn_orange.addEventListener("click",bodyColorHandler),mini_interactive_btn_red.addEventListener("click",bodyColorHandler),mini_interactive_btn_blue.style.zIndex=10,mini_interactive_btn_orange.style.zIndex=10,mini_interactive_btn_red.style.zIndex=10,mini_interactive_btn_blue.style.cursor="pointer",mini_interactive_btn_orange.style.cursor="pointer",mini_interactive_btn_red.style.cursor="pointer",mini_interactive_btn_blue.style.border="2px solid #ffffff",TweenLite.set(fr2_copy_a,{css:{left:dimensions.width}}),TweenLite.set(fr2_copy_b,{css:{left:dimensions.width}}),logo_small.style.opacity=0,logo_large.style.opacity=0,cta_bkgrnd.style.opacity=0,blue_logo_lockup_trim.style.opacity=0,orange_bkgrnd.style.opacity=0,red_bkgrnd.style.opacity=0,mini_interactive_main.style.opacity=0,minicoop_headlights.style.opacity=0,minicoop_rearlights.style.opacity=0,mini_interactive_btns_main.style.opacity=0,mini_interactive_paint_orange.style.opacity=0,mini_interactive_paint_red.style.opacity=0,frame00()}function frame00(){stopWatch=(new Date).getTime(),stage.style.display="block";var e=0;TweenLite.to(stage,.25,{delay:e,opacity:1}),TweenLite.delayedCall(e,frame01)}function frame01(){var e=0,t=1.5;e+=.25,minicoop_main.tireRotation=0,TweenLite.from(minicoop_main,t,{x:-dimensions.width,ease:Expo.easeOut,delay:e,tireRotation:4,onUpdate:rotateTires,onUpdateParams:[minicoop_main]}),e+=1.5,TweenLite.from(fr1_copy_a,1,{opacity:0,delay:e}),TweenLite.from(fr1_copy_b,1,{opacity:0,delay:e}),e+=.5,TweenLite.to(logo_small,1,{delay:e,opacity:1}),TweenLite.to(cta_bkgrnd,1,{delay:e,opacity:1}),e+=1.25,TweenLite.delayedCall(e,frame02)}function frame02(){var e=0,t=2;fr1_copy_a.tireRotation=0,TweenLite.to(fr1_copy_a,t,{x:-dimensions.height,ease:Expo.easeIn,delay:e,tireRotation:10,onUpdate:rotateTires,onUpdateParams:[fr1_copy_a],onComplete:startSpin}),TweenLite.to(fr1_copy_b,t,{x:-dimensions.height,ease:Expo.easeIn,delay:e}),e+=.75,TweenLite.to(minicoop_frt_tire_stopped,.25,{opacity:0,delay:e}),TweenLite.to(minicoop_rear_tire_stopped,.25,{opacity:0,delay:e}),TweenLite.to(orange_bkgrnd,4,{opacity:1,delay:e}),e+=1,TweenLite.delayedCall(e,frame03)}function frame03(){var e=0,t=1;TweenLite.to(fr2_copy_a,t,{left:-dimensions.width/2,ease:Expo.easeOut,delay:e}),TweenLite.to(fr2_copy_b,t,{left:-dimensions.width/2,ease:Expo.easeOut,delay:e}),e+=2.5,TweenLite.to(red_bkgrnd,4,{opacity:1,delay:e}),e+=2.5,TweenLite.to(fr2_copy_a,t,{left:2*-dimensions.width,ease:Expo.easeIn,delay:e}),TweenLite.to(fr2_copy_b,t,{left:2*-dimensions.width,ease:Expo.easeIn,delay:e}),TweenLite.set(blue_bkgrnd,{opacity:0,delay:e}),TweenLite.set(orange_bkgrnd,{opacity:0,delay:e}),TweenLite.to(red_bkgrnd,4,{opacity:0,delay:e}),e+=1,TweenLite.to(minicoop_headlights,1,{opacity:1,delay:e}),TweenLite.to(minicoop_rearlights,1,{opacity:1,delay:e}),e+=1.5,TweenLite.to(minicoop_main,1,{x:dimensions.width,ease:Expo.easeIn,delay:e}),e+=1,TweenLite.delayedCall(e,frame04)}function frame04(){var e=0;logo_large.style.opacity=1,logo_small.style.opacity=0,TweenLite.to(cta_bkgrnd,.5,{opacity:0,delay:e}),TweenLite.from(logo_large,1,{scaleX:.15,scaleY:.15,x:105,y:95,ease:Power4.easeInOut,delay:e}),e+=.5,TweenLite.to(blue_logo_lockup_trim,.5,{opacity:1,delay:e}),e+=1,TweenLite.delayedCall(e,frame05)}function frame05(){var e=0;TweenLite.to(logo_large,1,{opacity:0,delay:e}),e+=.5,TweenLite.to(mini_interactive_main,1,{opacity:1,ease:Expo.easeOut,delay:e}),TweenLite.to(mini_interactive_btns_main,1,{opacity:1,ease:Expo.easeOut,delay:e}),TweenLite.to(mini_interactive_btns_main,1,{opacity:1,ease:Expo.easeOut,delay:e}),TweenLite.to(logo_small,1,{opacity:1,delay:e}),TweenLite.to(cta_bkgrnd,1,{opacity:1,delay:e}),e+=.5,TweenLite.delayedCall(e,returnTimer,["banner end"])}function startSpin(){setInterval(fullSpeed,.1);TweenLite.to(minicoop_main,7,{x:-10})}function fullSpeed(){var e=40*Math.random()+320;TweenLite.set(minicoop_frt_tire,{rotation:e}),TweenLite.set(minicoop_rear_tire,{rotation:e})}function rotateTires(e){var t=360*-e.tireRotation;TweenLite.set(minicoop_frt_tire,{rotation:t,ease:Linear.easeNone}),TweenLite.set(minicoop_rear_tire,{rotation:t,ease:Linear.easeNone})}function ctaAnimationOver(e){var t=0;TweenLite.to(arrow1,1,{delay:t,x:2,ease:Expo.easeOut}),TweenLite.to(cta_copy,1,{delay:t,scaleY:.52,scaleX:.52,ease:Expo.easeOut}),t+=.2,TweenLite.to(arrow2,1,{delay:t,x:2,ease:Expo.easeOut})}function ctaAnimationOut(e){var t=0;TweenLite.to(arrow1,.5,{delay:t,x:0,ease:Expo.easeOut}),TweenLite.to(arrow2,.5,{delay:t,x:0,ease:Expo.easeOut}),TweenLite.to(cta_copy,.5,{delay:t,scaleY:.5,scaleX:.5,ease:Expo.easeOut})}function bodyColorHandler(e){event.stopPropagation();var t=e.target.className;switch(mini_interactive_btn_blue.style.border="none",mini_interactive_btn_orange.style.border="none",mini_interactive_btn_red.style.border="none",t){case"icon-mini_interactive_btn_blue":TweenLite.to(mini_interactive_paint_orange,.5,{opacity:0}),TweenLite.to(mini_interactive_paint_red,.5,{opacity:0}),e.target.style.border="2px solid #ffffff";break;case"icon-mini_interactive_btn_orange":TweenLite.to(mini_interactive_paint_orange,.5,{opacity:1}),TweenLite.to(mini_interactive_paint_red,.5,{opacity:0}),e.target.style.border="2px solid #ffffff";break;case"icon-mini_interactive_btn_red":TweenLite.to(mini_interactive_paint_orange,.5,{opacity:0}),TweenLite.to(mini_interactive_paint_red,.5,{opacity:1}),e.target.style.border="2px solid #ffffff"}}var extractSize=function(e){var t=/width\=(\d+)/.exec(e),i=/height\=(\d+)/.exec(e);return{width:parseInt(t[1]),height:parseInt(i[1])}},sizeMeta=document.querySelectorAll("[name='ad.size']")[0].getAttributeNode("content").value,dimensions=extractSize(sizeMeta),stopWatch=(new Date).getTime();window.addEventListener("load",preInit);